apiVersion: ec2.aws.m.upbound.io/v1beta1
kind: Instance
metadata:
  name: ec2-instance-1
  namespace: demo
spec:
  forProvider:
    ami: ami-0b09ffb6d8b58ca91
    availabilityZone: us-east-1d
    instanceType: t3.micro
    region: us-east-1
    userData: "IyEvYmluL2Jhc2gKeXVtIHVwZGF0ZSAteQp5dW0gaW5zdGFsbCAteSBodHRwZApzeXN0ZW1jdGwgc3RhcnQgaHR0ZApzeXN0ZW1jdGwKZW5hYmxlIGh0dHBkCmVjaG8gJzxoMT5IZWxsbyB3b3JsZCBmcm9tICQoaG9zdG5hbWUgLWYpPC9oMT4nID4gL3Zhci93d3cvaHRtbC9pbmRleC5odG1sCg=="    
  providerConfigRef:
    name: default
    kind: ProviderConfig
---
apiVersion: ec2.aws.m.upbound.io/v1beta1
kind: LaunchTemplate
metadata:
  name: ec2-launch-template-1
  namespace: demo
  labels: 
    template: template1
spec:
  forProvider:
    imageId: ami-0b09ffb6d8b58ca91
    blockDeviceMappings:
      - deviceName: /dev/sda1
        ebs:
          volumeSize: 20
    instanceType: t3.micro
    region: us-east-1
    userData: "IyEvYmluL2Jhc2gKeXVtIHVwZGF0ZSAteQp5dW0gaW5zdGFsbCAteSBodHRwZApzeXN0ZW1jdGwgc3RhcnQgaHR0ZApzeXN0ZW1jdGwKZW5hYmxlIGh0dHBkCmVjaG8gJzxoMT5IZWxsbyB3b3JsZCBmcm9tICQoaG9zdG5hbWUgLWYpPC9oMT4nID4gL3Zhci93d3cvaHRtbC9pbmRleC5odG1sCg=="

  providerConfigRef:
    name: default
    kind: ProviderConfig


# !/bin/bash
# yum update -y
# yum install -y httpd
# systemctl start httpd
# systemctl enable httpd
# echo '<h1>Hello world from $(hostname -f)</h1>' > /var/www/html/index.html
